STEP 1/9: FROM hpc-base:latest
STEP 2/9: USER root
--> Using cache e102a09c4762f17227ccc97376c2070ebcdbdb6c03c5c0f2023203648d76180b
--> e102a09c4762
STEP 3/9: RUN pip3 install --no-cache-dir     reframe-hpc     pytest     pyyaml     jinja2     requests
Collecting reframe-hpc
  Downloading reframe_hpc-4.8.4-py3-none-any.whl (316 kB)
Collecting pytest
  Downloading pytest-8.4.2-py3-none-any.whl (365 kB)
Requirement already satisfied: pyyaml in /usr/local/lib64/python3.9/site-packages (6.0.3)
Requirement already satisfied: jinja2 in /usr/local/lib/python3.9/site-packages (3.1.6)
Requirement already satisfied: requests in /usr/local/lib/python3.9/site-packages (2.32.5)
Collecting tabulate
  Downloading tabulate-0.9.0-py3-none-any.whl (35 kB)
Collecting semver
  Downloading semver-3.0.4-py3-none-any.whl (17 kB)
Requirement already satisfied: jsonschema in /usr/local/lib/python3.9/site-packages (from reframe-hpc) (4.25.1)
Collecting ClusterShell
  Downloading ClusterShell-1.9.3.tar.gz (417 kB)
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Collecting lxml==5.3.1
  Downloading lxml-5.3.1-cp39-cp39-manylinux_2_28_aarch64.whl (4.9 MB)
Collecting fasteners
  Downloading fasteners-0.20-py3-none-any.whl (18 kB)
Collecting argcomplete
  Downloading argcomplete-3.6.3-py3-none-any.whl (43 kB)
Collecting archspec>=0.2.4
  Downloading archspec-0.2.5-py3-none-any.whl (76 kB)
Requirement already satisfied: packaging>=20 in /usr/local/lib/python3.9/site-packages (from pytest) (25.0)
Collecting iniconfig>=1
  Downloading iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
Requirement already satisfied: exceptiongroup>=1 in /usr/local/lib/python3.9/site-packages (from pytest) (1.3.0)
Collecting pluggy<2,>=1.5
  Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
Requirement already satisfied: pygments>=2.7.2 in /usr/local/lib/python3.9/site-packages (from pytest) (2.19.2)
Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.9/site-packages (from pytest) (2.3.0)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib64/python3.9/site-packages (from jinja2) (3.0.3)
Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.9/site-packages (from requests) (3.11)
Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.9/site-packages (from requests) (2025.10.5)
Requirement already satisfied: charset_normalizer<4,>=2 in /usr/local/lib64/python3.9/site-packages (from requests) (3.4.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.9/site-packages (from requests) (2.5.0)
Requirement already satisfied: typing-extensions>=4.6.0 in /usr/local/lib/python3.9/site-packages (from exceptiongroup>=1->pytest) (4.15.0)
Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /usr/local/lib/python3.9/site-packages (from jsonschema->reframe-hpc) (2025.9.1)
Requirement already satisfied: referencing>=0.28.4 in /usr/local/lib/python3.9/site-packages (from jsonschema->reframe-hpc) (0.36.2)
Requirement already satisfied: rpds-py>=0.7.1 in /usr/local/lib64/python3.9/site-packages (from jsonschema->reframe-hpc) (0.27.1)
Requirement already satisfied: attrs>=22.2.0 in /usr/local/lib/python3.9/site-packages (from jsonschema->reframe-hpc) (25.4.0)
Using legacy 'setup.py install' for ClusterShell, since package 'wheel' is not installed.
Installing collected packages: tabulate, semver, pluggy, lxml, iniconfig, fasteners, ClusterShell, argcomplete, archspec, reframe-hpc, pytest
    Running setup.py install for ClusterShell: started
    Running setup.py install for ClusterShell: finished with status 'done'
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
Successfully installed ClusterShell-1.9.3 archspec-0.2.5 argcomplete-3.6.3 fasteners-0.20 iniconfig-2.1.0 lxml-5.3.1 pluggy-1.6.0 pytest-8.4.2 reframe-hpc-4.8.4 semver-3.0.4 tabulate-0.9.0
--> c4e625a3be02
STEP 4/9: USER hpcuser
--> e4a5e4a4fcbe
STEP 5/9: WORKDIR /home/hpcuser/workspace
--> 8683f0c93ae3
STEP 6/9: RUN cd examples/mpi &&     mkdir -p build &&     cd build &&     cmake .. &&     make
-- The C compiler identification is GNU 11.5.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Found MPI_C: /usr/lib64/openmpi/lib/libmpi.so (found version "3.1") 
-- Found MPI: TRUE (found version "3.1")  
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /home/hpcuser/workspace/examples/mpi/build
[ 25%] Building C object CMakeFiles/mpi_ring.dir/mpi_ring.c.o
[ 50%] Linking C executable mpi_ring
[ 50%] Built target mpi_ring
[ 75%] Building C object CMakeFiles/mpi_pingpong.dir/mpi_pingpong.c.o
[100%] Linking C executable mpi_pingpong
[100%] Built target mpi_pingpong
--> 48c8d26f3b8c
STEP 7/9: RUN mkdir -p /home/hpcuser/.reframe &&     cp reframe/reframe_settings.py /home/hpcuser/.reframe/settings.py
--> b90fd4089c62
STEP 8/9: RUN echo '#!/bin/bash' > /home/hpcuser/run_tests.sh &&     echo 'echo "ðŸ“Š ReFrame Performance Testing Environment"' >> /home/hpcuser/run_tests.sh &&     echo 'echo "Running performance regression tests..."' >> /home/hpcuser/run_tests.sh &&     echo 'cd /home/hpcuser/workspace' >> /home/hpcuser/run_tests.sh &&     echo 'reframe -C reframe/reframe_settings.py -c reframe/tests/ -r --system local:cpu' >> /home/hpcuser/run_tests.sh &&     chmod +x /home/hpcuser/run_tests.sh
--> 273740ad4291
STEP 9/9: CMD ["/home/hpcuser/run_tests.sh"]
COMMIT hpc-reframe:latest
--> 5b62d2fa36b2
Successfully tagged localhost/hpc-reframe:latest
5b62d2fa36b2f2d66441815cc5d3d11671a16d87196fe1ed1d9a8ae431ca5b3e
